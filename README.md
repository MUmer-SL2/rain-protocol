# Terra Virtua Balancer INFURA_PROJECT_ID

## Setup

### Nix Shell

Install the nix shell if you haven't already.

```
curl -L https://nixos.org/nix/install | sh
```

Drop into a nix-shell.

```
cd tv-balancer-poc
nix-shell
```

### Ethereum private key

Generate a new mnemonic with the `mnemonic` command in the nix shell.

Or use the mnemonic generated by ganache.

Create a `.env` file as:

```
#!/usr/bin/env bash
export MNEMONIC={{ your new mnemonic here }}
```

### Working locally

Run `ganache-cli` to spin up a local network with addresses.

### Infura credentials

Create a new infura project, add the details to `.env` file as:

```
export INFURA_PROJECT_ID={{ infura project id }}
export INFURA_SECRET={{ infura secret }}
export INFURA_NEWORK={{ ropsten etc. }}
```

### See accounts for mnemonic

There is a script wrapping `getAccounts()`.

```
truffle exec --network ropsten scripts/getAccounts.js
```

### Add some ETH from the faucet

##### Goerli

Goerli is POA so is reliable but unrealistic.

Faucets:

- https://goerli-faucet.slock.it/
- https://faucet.goerli.mudit.blog/

#### Ropsten

Ropsten is POW and so can be unreliable.

There is a script to top up all the accounts.

```
truffle exec --network ropsten script/faucetAccounts.js
```

Don't spam this or you will be blocked.

#### Ganache config

Run `ganache` in nix shell after checking out git submodules.

Set port number to `8545` in config.

Set gas limit to `10000000`.

Link the truffle config in the root and in balancer-core.
