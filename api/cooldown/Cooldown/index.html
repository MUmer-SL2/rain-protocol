<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Cooldown | Rain Protocol</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://beehive-innovation.github.io/rain-protocol/api/cooldown/Cooldown"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="v0.0.14"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-v0.0.14"><meta data-react-helmet="true" property="og:title" content="Cooldown | Rain Protocol"><meta data-react-helmet="true" name="description" content="Cooldown is an abstract contract that rate limits functions on"><meta data-react-helmet="true" property="og:description" content="Cooldown is an abstract contract that rate limits functions on"><link data-react-helmet="true" rel="canonical" href="https://beehive-innovation.github.io/rain-protocol/api/cooldown/Cooldown"><link data-react-helmet="true" rel="alternate" href="https://beehive-innovation.github.io/rain-protocol/api/cooldown/Cooldown" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://beehive-innovation.github.io/rain-protocol/api/cooldown/Cooldown" hreflang="x-default"><link rel="stylesheet" href="/rain-protocol/assets/css/styles.551d82d3.css">
<link rel="preload" href="/rain-protocol/assets/js/runtime~main.73edf8f0.js" as="script">
<link rel="preload" href="/rain-protocol/assets/js/main.52618dc7.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rain-protocol/"><b class="navbar__title">Rain Protocol</b></a><a class="navbar__item navbar__link" href="/rain-protocol/glossary">Glossary</a><a class="navbar__item navbar__link" href="/rain-protocol/api/trust/Trust">API</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/rain-protocol/">v0.0.14</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/rain-protocol/next/api/cooldown/Cooldown">Next</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/rain-protocol/api/cooldown/Cooldown">v0.0.14</a></li><li><a class="dropdown__link" href="/rain-protocol/v0.0.13/api/cooldown/Cooldown">v0.0.13</a></li><li><a class="dropdown__link" href="/rain-protocol/v0.0.12/api/cooldown/Cooldown">v0.0.12</a></li><li><a class="dropdown__link" href="/rain-protocol/v0.0.11/api/cooldown/Cooldown">v0.0.11</a></li><li><a class="dropdown__link" href="/rain-protocol/v0.0.10/api/cooldown/Cooldown">v0.0.10</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/beehive-innovation/rain-protocol" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/rain-protocol/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/rain-protocol/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" href="/rain-protocol/risk-mitigation">Risk Mitigation</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">claim</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">cooldown</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rain-protocol/api/cooldown/Cooldown">Cooldown</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">factory</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">libraries</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">phased</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">pool</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">redeemableERC20</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">seed</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">tier</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">trust</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">verify</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: v0.0.14</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Cooldown</h1></header><p><code>Cooldown</code> is an abstract contract that rate limits functions on
the contract per <code>msg.sender</code>.</p><p>Each time a function with the <code>onlyAfterCooldown</code> modifier is called the
<code>msg.sender</code> must wait N blocks before calling any modified function.</p><p>This does nothing to prevent sybils who can generate an arbitrary number of
<code>msg.sender</code> values in parallel to spam a contract.</p><p><code>Cooldown</code> is intended to prevent rapid state cycling to grief a contract,
such as rapidly locking and unlocking a large amount of capital in the
<code>SeedERC20</code> contract.</p><p>Requiring a lock/deposit of significant economic stake that sybils will not
have access to AND applying a cooldown IS a sybil mitigation. The economic
stake alone is NOT sufficient if gas is cheap as sybils can cycle the same
stake between each other. The cooldown alone is NOT sufficient as many
sybils can be created, each as a new <code>msg.sender</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="details"></a>Details<a class="hash-link" href="#details" title="Direct link to heading">#</a></h2><p>Base for anything that enforces a cooldown delay on functions.
Cooldown requires a minimum time in blocks to elapse between actions that
cooldown. The modifier <code>onlyAfterCooldown</code> both enforces and triggers the
cooldown. There is a single cooldown across all functions per-contract
so any function call that requires a cooldown will also trigger it for
all other functions.</p><p>Cooldown is NOT an effective sybil resistance alone, as the cooldown is
per-address only. It is always possible for many accounts to be created
to spam a contract with dust in parallel.
Cooldown is useful to stop a single account rapidly cycling contract
state in a way that can be disruptive to peers. Cooldown works best when
coupled with economic stake associated with each state change so that
peers must lock capital during the cooldown. Cooldown tracks the first
<code>msg.sender</code> it sees for a call stack so cooldowns are enforced across
reentrant code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="variables"></a>Variables<a class="hash-link" href="#variables" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="uint16-cooldownduration"></a><code>uint16</code> <code>cooldownDuration</code><a class="hash-link" href="#uint16-cooldownduration" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mappingaddress--uint256-cooldowns"></a><code>mapping(address =&gt; uint256)</code> <code>cooldowns</code><a class="hash-link" href="#mappingaddress--uint256-cooldowns" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="modifiers"></a>Modifiers<a class="hash-link" href="#modifiers" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="onlyaftercooldown"></a><code>onlyAfterCooldown()</code><a class="hash-link" href="#onlyaftercooldown" title="Direct link to heading">#</a></h3><p>Modifies a function to enforce the cooldown for <code>msg.sender</code>.
Saves the original caller so that cooldowns are enforced across
reentrant code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="constructoruint16-cooldownduration_-public"></a><code>constructor(uint16 cooldownDuration_)</code> (public)<a class="hash-link" href="#constructoruint16-cooldownduration_-public" title="Direct link to heading">#</a></h3><p>The cooldown duration is global to the contract.
Cooldown duration must be greater than 0.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rain-protocol/api/claim/TierByConstructionClaim"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« TierByConstructionClaim</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rain-protocol/api/factory/Factory"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Factory Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#details" class="table-of-contents__link">Details</a></li><li><a href="#variables" class="table-of-contents__link">Variables</a><ul><li><a href="#uint16-cooldownduration" class="table-of-contents__link"><code>uint16</code> <code>cooldownDuration</code></a></li><li><a href="#mappingaddress--uint256-cooldowns" class="table-of-contents__link"><code>mapping(address =&gt; uint256)</code> <code>cooldowns</code></a></li></ul></li><li><a href="#modifiers" class="table-of-contents__link">Modifiers</a><ul><li><a href="#onlyaftercooldown" class="table-of-contents__link"><code>onlyAfterCooldown()</code></a></li></ul></li><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#constructoruint16-cooldownduration_-public" class="table-of-contents__link"><code>constructor(uint16 cooldownDuration_)</code> (public)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Beehive Innovation</div></div></div></footer></div>
<script src="/rain-protocol/assets/js/runtime~main.73edf8f0.js"></script>
<script src="/rain-protocol/assets/js/main.52618dc7.js"></script>
</body>
</html>